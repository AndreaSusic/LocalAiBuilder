/**
 * GOAL
 * ----
 * Turn every text (and later media) node shown in the live **/preview** iframe
 * into an inline-editable zone.  
 * When the user **clicks** inside such a zone we â€¦
 *   1. Make it `contenteditable`.
 *   2. Pop a tiny floating toolbar carrying the commands we already defined
 *      (ğ, ğ‘°, ğ‘¼, List, 8 px, AğŸ–Œï¸, ğŸ–ï¸, ğŸ–¼ï¸, ğŸ¥, â†”ï¸â†•ï¸, ğŸ“, Hâ‚, Â¶, ğŸ”², ğŸ“‹, </>, ğŸ”˜ â€¦).
 *   3. Wire each toolbar button â†’ the matching `document.execCommand`
 *      or custom routine (e.g. insert media placeholder / component stub).
 *   4. On **Enter** inside a zone we insert a new paragraph block;
 *      if the user selects â€œmedia: ğŸ–¼ï¸/ğŸ¥â€ we insert an <img> or <video> stub.
 *
 *  The same floating toolbar must DISAPPEAR when the user clicks elsewhere.
 *
 * MUST stay framework-agnostic (pure ES-Modules + zero-dep CSS) so it plays
 * nicely whether the underlying page was built with React, Svelte or raw HTML.
 *
 * ---------------------------------------------------------------------------
 *  HIGH-LEVEL STEPS
 * ---------------------------------------------------------------------------
 * 1. In the preview document  âœ walk the DOM once it finishes loading
 *    and tag every node you want editable with    data-editable="true".
 *
 * 2. Inject `editorBridge.js` into the preview frame from the dashboard side.
 *      const frameDoc = document.querySelector('#preview-iframe').contentDocument;
 *      const s = frameDoc.createElement('script');
 *      s.type = 'module';
 *      s.src  = '/editorBridge.js';
 *      frameDoc.head.appendChild(s);
 *
 * 3. **editorBridge.js**
 *      â€“ listeners:  click, keydown, blur
 *      â€“ toolbar:   buildToolbar();   // returns HTMLElement
 *      â€“ commands:  const COMMANDS = {
 *                      'ğ' : () => exec('bold'),
 *                      'ğ‘°' : () => exec('italic'),
 *                      'ğ‘¼' : () => exec('underline'),
 *                      'List': () => exec('insertUnorderedList'),
 *                      '8px': () => exec('fontSize', 1),  // 1 = 8 px
 *                      'AğŸ–Œï¸': () => pickColor('foreColor'),
 *                      'ğŸ–ï¸':  () => pickColor('hiliteColor'),
 *                      'ğŸ–¼ï¸':  () => insertMedia('image'),
 *                      'ğŸ¥':  () => insertMedia('video'),
 *                      'â†”ï¸â†•ï¸':() => toggleResizeBox(),
 *                      'ğŸ“': () => openSpacingPanel(),
 *                      'Hâ‚': () => exec('formatBlock','H1'),
 *                      'Â¶':   () => exec('formatBlock','P'),
 *                      'ğŸ”²':  () => insertComponent('card'),
 *                      'ğŸ“‹':  () => pastePlain(),
 *                      '</>': () => toggleCodeView(),
 *                      'ğŸ”˜':  () => insertComponent('button')
 *                   };
 *
 * 4.  **Toolbar positioning**  
 *     On click set toolbar.style.top/left to element.getBoundingClientRect()
 *     relative to `window.parent` so it hovers right above the clicked zone.
 *
 * 5.  **Enter key**  
 *     In keydown handler: if `e.key === 'Enter'` && !e.shiftKey  
 *       â€“ preventDefault();  
 *       â€“ exec('insertParagraph');  
 *       â€“ OR call insertMediaPrompt() depending on the last toolbar action.
 *
 * 6.  **Auto-save bridge**  
 *     Whenever `input` or `blur` fires inside a zone, postMessage the
 *     updated HTML back to the dashboard editor pane so we can persist
 *     draft changes.
 *
 * 7.  **Keyboard shortcuts** (nice-to-have)  
 *     Ctrl/âŒ˜+B,I,U  âœ trigger matching toolbar buttons.
 *
 * ---------------------------------------------------------------------------
 *  FILES TO ADD IN REPLIT
 * ---------------------------------------------------------------------------
 *  âš™ï¸  /public/editorBridge.js   â€“ core logic above
 *  âš™ï¸  /public/editorToolbar.css â€“ minimal styling:
 *        .ez-toolbar {position:absolute; background:#fff; border:1px solid #aaa;
 *                    border-radius:6px; padding:4px; box-shadow:0 2px 6px #0002;}
 *        .ez-btn     {font:16px/1 sans-serif; padding:2px 4px; cursor:pointer;}
 *        .ez-btn:hover {background:#f0f0f0;}
 *
 * ---------------------------------------------------------------------------
 *  QUICK DEV NOTES
 * ---------------------------------------------------------------------------
 *  â€¢ Use `document.execCommand()` for MVP even though itâ€™s deprecated;
 *    keeps the prototype tiny. Switch to TipTap/ProseMirror once stable.
 *  â€¢ Media insertion = createElement('figure') with <img>/<video> & caption stub.
 *  â€¢ Make sure to `contenteditable="false"` on the toolbar itself!
 *
 * ---------------------------------------------------------------------------
 *  ANALOGIES
 * ---------------------------------------------------------------------------
 *  â€“ The interaction model is deliberately **WordPress (Gutenberg)-lite**:
 *      click = select block â†’ mini toolbar; ENTER = new block.
 *  â€“ Simpler than Canva because weâ€™re editing inline HTML, not canvas nodes.
 *
 * ---------------------------------------------------------------------------
 *  DONE.
 **/